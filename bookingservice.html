<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book a Service - ServPro Consolidated Inc.</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .booking-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .booking-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .booking-header h1 {
            font-size: 2.5em;
            color: #333;
            margin-bottom: 10px;
        }

        .booking-header p {
            color: #666;
            font-size: 1.1em;
        }

        .booking-steps {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            gap: 10px;
        }

        .step {
            flex: 1;
            padding: 15px;
            background-color: #e0e0e0;
            text-align: center;
            border-radius: 5px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .step.active {
            background-color: #FFD700;
            color: #000;
        }

        .booking-form-container {
            display: flex;
            gap: 30px;
            margin-top: 30px;
        }

        .form-section {
            flex: 2;
        }

        .booking-form {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .booking-form.active {
            display: block;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            flex: 1;
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: #FFD700;
            outline: none;
        }

        .summary-section {
            flex: 1;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .summary-content {
            margin-top: 20px;
        }

        .summary-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-item h4 {
            color: #333;
            margin-bottom: 10px;
        }

        .summary-item p {
            margin: 5px 0;
            color: #666;
        }

        .form-navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .nav-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .back-btn {
            background: #e0e0e0;
            color: #333;
        }

        .next-btn {
            background: #FFD700;
            color: #000;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        @media (max-width: 768px) {
            .booking-form-container {
                flex-direction: column;
            }

            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .summary-section {
                margin-top: 30px;
                position: static;
            }

            .booking-steps {
                flex-direction: column;
            }

            .step {
                margin-bottom: 10px;
            }
        }

        /* Service Type Options */
        .service-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .service-option {
            position: relative;
        }

        .service-option input[type="radio"] {
            display: none;
        }

        .service-option label {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .service-option label i {
            font-size: 24px;
            margin-bottom: 10px;
            color: #666;
        }

        .service-option input[type="radio"]:checked + label {
            border-color: #FFD700;
            background-color: #FFF9E6;
        }

        /* AC Type Options */
        .ac-type-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .ac-type-option {
            position: relative;
        }

        .ac-type-option input[type="radio"] {
            display: none;
        }

        .ac-type-option label {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ac-type-option label i {
            font-size: 24px;
            margin-bottom: 10px;
            color: #666;
        }

        .ac-type-option input[type="radio"]:checked + label {
            border-color: #FFD700;
            background-color: #FFF9E6;
        }

        /* Brand Options */
        .brand-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .brand-option {
            position: relative;
        }

        .brand-option input[type="radio"] {
            display: none;
        }

        .brand-option label {
            display: block;
            padding: 10px;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .brand-option input[type="radio"]:checked + label {
            border-color: #FFD700;
            background-color: #FFF9E6;
        }

        /* Capacity Options */
        .capacity-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .capacity-option {
            position: relative;
        }

        .capacity-option input[type="radio"] {
            display: none;
        }

        .capacity-option label {
            display: block;
            padding: 10px;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .capacity-option input[type="radio"]:checked + label {
            border-color: #FFD700;
            background-color: #FFF9E6;
        }

        /* Date Picker */
        .date-picker {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .date-info {
            font-size: 0.9em;
            color: #666;
        }

        /* Time Slots */
        .time-slots {
            display: grid;
            gap: 20px;
            margin-top: 10px;
        }

        .time-slot-group h4 {
            margin-bottom: 10px;
            color: #333;
        }

        .time-slot-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .time-slot-option {
            position: relative;
        }

        .time-slot-option input[type="radio"] {
            display: none;
        }

        .time-slot-option label {
            display: block;
            padding: 15px;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .time-slot-option input[type="radio"]:checked + label {
            border-color: #FFD700;
            background-color: #FFF9E6;
        }

        /* Urgency Options */
        .urgency-options {
            display: grid;
            gap: 15px;
            margin-top: 10px;
        }

        .urgency-option {
            position: relative;
        }

        .urgency-option input[type="radio"] {
            display: none;
        }

        .urgency-option label {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .urgency-option label i {
            font-size: 24px;
            margin-right: 15px;
            color: #666;
        }

        .urgency-option label span {
            font-weight: 600;
        }

        .urgency-description {
            margin-left: 40px;
            font-size: 0.9em;
            color: #666;
        }

        .urgency-option input[type="radio"]:checked + label {
            border-color: #FFD700;
            background-color: #FFF9E6;
        }

        @media (max-width: 768px) {
            .service-options,
            .ac-type-options,
            .brand-options,
            .capacity-options,
            .time-slot-options {
                grid-template-columns: 1fr;
            }

            .urgency-option label {
                flex-direction: column;
                align-items: flex-start;
            }

            .urgency-description {
                margin-left: 0;
                margin-top: 5px;
            }
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: #FFD700;
            color: #000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            z-index: 1000;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background-color: #FFC000;
            transform: translateY(-3px);
        }

        .back-to-top i {
            font-size: 20px;
        }

        /* Back Button */
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: #FFD700;
            color: #000;
            padding: 10px 20px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            z-index: 1000;
            text-decoration: none;
            font-weight: 500;
        }

        .back-button.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-button:hover {
            background-color: #FFC000;
            transform: translateY(-3px);
        }

        .back-button i {
            font-size: 16px;
        }

        @media (max-width: 768px) {
            .back-button {
                top: 10px;
                left: 10px;
                padding: 8px 15px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <a href="airconditioners.html" class="back-button">
        <i class="fas fa-arrow-left"></i>
        Back to Air Conditioners
    </a>

    <div class="booking-container">
        <div class="booking-header">
            <h1>Book Your Service</h1>
            <p>Schedule your air conditioning service in just a few simple steps</p>
        </div>

        <div class="booking-steps">
            <div class="step active" data-step="1">Step 1 of 4<br>Location</div>
            <div class="step" data-step="2">Step 2 of 4<br>Unit Details</div>
            <div class="step" data-step="3">Step 3 of 4<br>Date & Time</div>
            <div class="step" data-step="4">Step 4 of 4<br>Contact details</div>
        </div>

        <div class="booking-form-container">
            <div class="form-section">
                <!-- Location Form -->
                <div id="location-form" class="booking-form active">
                    <h3>Location Details</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="province">Province</label>
                            <select id="province" name="province" required>
                                <option value="">Select Province</option>
                                <option value="cavite">Cavite</option>
                                <option value="laguna">Laguna</option>
                                <option value="batangas">Batangas</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="city">City/Municipality</label>
                            <select id="city" name="city" required>
                                <option value="">Select City/Municipality</option>
                                <option value="naic">Naic</option>
                                <option value="tagaytay">Tagaytay</option>
                                <option value="bacoor">Bacoor</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="barangay">Barangay</label>
                            <select id="barangay" name="barangay" required>
                                <option value="">Select Barangay</option>
                                <option value="ibayo-silangan">Ibayo Silangan</option>
                                <option value="san-roque">San Roque</option>
                                <option value="malainen-bago">Malainen Bago</option>
                                <option value="labac">Labac</option>
                                <option value="mataas-na-lupa">Mataas na Lupa</option>
                                <option value="munting-mapino">Munting Mapino</option>
                                <option value="palangue">Palangue</option>
                                <option value="sapa">Sapa</option>
                                <option value="santulan">Santulan</option>
                                <option value="timalan">Timalan</option>
                                <option value="wakas">Wakas</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="postal-code">Postal Code</label>
                            <input type="text" id="postal-code" name="postal-code" placeholder="Enter postal code" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="address">Detailed Address (Landmark)</label>
                        <textarea id="address" name="address" rows="3" placeholder="Enter your complete address" required></textarea>
                    </div>
                </div>

                <!-- Unit Details Form -->
                <div id="unit-details-form" class="booking-form">
                    <h3>Unit Information</h3>
                    <div class="form-group">
                        <label for="service-type">Service Type</label>
                        <div class="service-options">
                            <div class="service-option">
                                <input type="radio" id="installation" name="service-type" value="installation" required>
                                <label for="installation">
                                    <i class="fas fa-tools"></i>
                                    <span>Installation</span>
                                </label>
                            </div>
                            <div class="service-option">
                                <input type="radio" id="repair" name="service-type" value="repair">
                                <label for="repair">
                                    <i class="fas fa-wrench"></i>
                                    <span>Repair</span>
                                </label>
                            </div>
                            <div class="service-option">
                                <input type="radio" id="maintenance" name="service-type" value="maintenance">
                                <label for="maintenance">
                                    <i class="fas fa-cog"></i>
                                    <span>Maintenance</span>
                                </label>
                            </div>
                            <div class="service-option">
                                <input type="radio" id="cleaning" name="service-type" value="cleaning">
                                <label for="cleaning">
                                    <i class="fas fa-spray-can"></i>
                                    <span>Cleaning</span>
                                </label>
                            </div>
                            <div class="service-option">
                                <input type="radio" id="relocation" name="service-type" value="relocation">
                                <label for="relocation">
                                    <i class="fas fa-truck-moving"></i>
                                    <span>Relocation</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="ac-type">AC Type</label>
                            <div class="ac-type-options">
                                <div class="ac-type-option">
                                    <input type="radio" id="window" name="ac-type" value="window" required>
                                    <label for="window">
                                        <i class="fas fa-window-maximize"></i>
                                        <span>Window Type</span>
                                    </label>
                                </div>
                                <div class="ac-type-option">
                                    <input type="radio" id="split" name="ac-type" value="split">
                                    <label for="split">
                                        <i class="fas fa-split"></i>
                                        <span>Split Type</span>
                                    </label>
                                </div>
                                <div class="ac-type-option">
                                    <input type="radio" id="cassette" name="ac-type" value="cassette">
                                    <label for="cassette">
                                        <i class="fas fa-th"></i>
                                        <span>Cassette Type</span>
                                    </label>
                                </div>
                                <div class="ac-type-option">
                                    <input type="radio" id="portable" name="ac-type" value="portable">
                                    <label for="portable">
                                        <i class="fas fa-mobile-alt"></i>
                                        <span>Portable</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="brand">Brand</label>
                            <div class="brand-options">
                                <div class="brand-option">
                                    <input type="radio" id="aux" name="brand" value="aux" required>
                                    <label for="aux">AUX</label>
                                </div>
                                <div class="brand-option">
                                    <input type="radio" id="carrier" name="brand" value="carrier">
                                    <label for="carrier">Carrier</label>
                                </div>
                                <div class="brand-option">
                                    <input type="radio" id="daikin" name="brand" value="daikin">
                                    <label for="daikin">Daikin</label>
                                </div>
                                <div class="brand-option">
                                    <input type="radio" id="gree" name="brand" value="gree">
                                    <label for="gree">Gree</label>
                                </div>
                                <div class="brand-option">
                                    <input type="radio" id="condura" name="brand" value="condura">
                                    <label for="condura">Condura</label>
                                </div>
                                <div class="brand-option">
                                    <input type="radio" id="everest" name="brand" value="everest">
                                    <label for="everest">Everest</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="capacity">Capacity (HP)</label>
                            <div class="capacity-options">
                                <div class="capacity-option">
                                    <input type="radio" id="hp1" name="capacity" value="1.0" required>
                                    <label for="hp1">1.0 HP</label>
                                </div>
                                <div class="capacity-option">
                                    <input type="radio" id="hp1.5" name="capacity" value="1.5">
                                    <label for="hp1.5">1.5 HP</label>
                                </div>
                                <div class="capacity-option">
                                    <input type="radio" id="hp2" name="capacity" value="2.0">
                                    <label for="hp2">2.0 HP</label>
                                </div>
                                <div class="capacity-option">
                                    <input type="radio" id="hp2.5" name="capacity" value="2.5">
                                    <label for="hp2.5">2.5 HP</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="issue-description">Issue Description (if repair)</label>
                        <textarea id="issue-description" rows="3" placeholder="Describe the issue with your AC unit..."></textarea>
                    </div>
                </div>

                <!-- Date & Time Form -->
                <div id="datetime-form" class="booking-form">
                    <h3>Schedule Details</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="preferred-date">Preferred Date</label>
                            <div class="date-picker">
                                <input type="date" id="preferred-date" required>
                                <div class="date-info">
                                    <p>Available dates are shown in green</p>
                                    <p>Booked dates are shown in red</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="preferred-time">Preferred Time Slot</label>
                            <div class="time-slots">
                                <div class="time-slot-group">
                                    <h4>Morning Slots</h4>
                                    <div class="time-slot-options">
                                        <div class="time-slot-option">
                                            <input type="radio" id="morning1" name="preferred-time" value="morning1" required>
                                            <label for="morning1">8:30 AM - 10:30 AM</label>
                                        </div>
                                        <div class="time-slot-option">
                                            <input type="radio" id="morning2" name="preferred-time" value="morning2">
                                            <label for="morning2">10:30 AM - 5:30 PM</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="time-slot-group">
                                    <h4>Afternoon Slots</h4>
                                    <div class="time-slot-options">
                                        <div class="time-slot-option">
                                            <input type="radio" id="afternoon1" name="preferred-time" value="afternoon1">
                                            <label for="afternoon1">1:30 PM - 3:00 PM</label>
                                        </div>
                                        <div class="time-slot-option">
                                            <input type="radio" id="afternoon2" name="preferred-time" value="afternoon2">
                                            <label for="afternoon2">3:00 PM - 5:00 PM</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="urgency">Service Urgency</label>
                        <div class="urgency-options">
                            <div class="urgency-option">
                                <input type="radio" id="normal" name="urgency" value="normal" required>
                                <label for="normal">
                                    <i class="fas fa-clock"></i>
                                    <span>Normal (Within 2-3 days)</span>
                                    <p class="urgency-description">Standard service scheduling</p>
                                </label>
                            </div>
                            <div class="urgency-option">
                                <input type="radio" id="urgent" name="urgency" value="urgent">
                                <label for="urgent">
                                    <i class="fas fa-exclamation-circle"></i>
                                    <span>Urgent (Next day)</span>
                                    <p class="urgency-description">Priority scheduling with additional fee</p>
                                </label>
                            </div>
                            <div class="urgency-option">
                                <input type="radio" id="emergency" name="urgency" value="emergency">
                                <label for="emergency">
                                    <i class="fas fa-ambulance"></i>
                                    <span>Emergency (Same day)</span>
                                    <p class="urgency-description">Immediate response with premium fee</p>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contact Details Form -->
                <div id="contact-form" class="booking-form">
                    <h3>Contact Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="full-name">Full Name</label>
                            <input type="text" id="full-name" placeholder="Enter your full name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" placeholder="Enter your email" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" placeholder="Enter your phone number" required>
                        </div>
                        <div class="form-group">
                            <label for="alternate-phone">Alternate Phone Number</label>
                            <input type="tel" id="alternate-phone" placeholder="Enter alternate phone number">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="special-instructions">Special Instructions</label>
                        <textarea id="special-instructions" rows="3" placeholder="Any special instructions for our technicians..."></textarea>
                    </div>
                </div>
            </div>

            <div class="summary-section">
                <h3>Request Summary</h3>
                <div class="summary-content">
                    <div class="summary-item">
                        <h4>Location</h4>
                        <p id="summary-address">-</p>
                    </div>
                    <div class="summary-item">
                        <h4>Service Details</h4>
                        <p id="summary-service">-</p>
                        <p id="summary-ac-type">-</p>
                        <p id="summary-brand">-</p>
                        <p id="summary-capacity">-</p>
                    </div>
                    <div class="summary-item">
                        <h4>Schedule</h4>
                        <p id="summary-date">-</p>
                        <p id="summary-time">-</p>
                    </div>
                    <div class="summary-item">
                        <h4>Contact Information</h4>
                        <p id="summary-name">-</p>
                        <p id="summary-email">-</p>
                        <p id="summary-phone">-</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-navigation">
            <button class="nav-btn back-btn" onclick="navigateStep('back')">Back</button>
            <button class="nav-btn next-btn" onclick="navigateStep('next')">Next</button>
        </div>
    </div>

    <button class="back-to-top" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        let currentStep = 1;
        const totalSteps = 4;
        const forms = {
            1: 'location-form',
            2: 'unit-details-form',
            3: 'datetime-form',
            4: 'contact-form'
        };

        // Initialize the form when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            updateForms();
            setupEventListeners();
        });

        function setupEventListeners() {
            // Add event listeners for form inputs to update summary in real-time
            const formInputs = document.querySelectorAll('.booking-form input, .booking-form select, .booking-form textarea');
            formInputs.forEach(input => {
                input.addEventListener('input', updateSummary);
                input.addEventListener('change', updateSummary);
            });

            // Add event listeners for navigation buttons
            const backBtn = document.querySelector('.back-btn');
            const nextBtn = document.querySelector('.next-btn');
            
            if (backBtn) {
                backBtn.addEventListener('click', () => navigateStep('back'));
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => navigateStep('next'));
            }
        }

        function navigateStep(direction) {
            if (direction === 'next' && currentStep < totalSteps) {
                if (validateCurrentStep()) {
                    currentStep++;
                    updateForms();
                }
            } else if (direction === 'back' && currentStep > 1) {
                currentStep--;
                updateForms();
            }
        }

        function validateCurrentStep() {
            const currentForm = document.getElementById(forms[currentStep]);
            if (!currentForm) return false;

            const requiredFields = currentForm.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                if (field.type === 'radio') {
                    // For radio buttons, check if any in the group is selected
                    const radioGroup = document.getElementsByName(field.name);
                    const isRadioSelected = Array.from(radioGroup).some(radio => radio.checked);
                    
                    if (!isRadioSelected) {
                        isValid = false;
                        // Add error message to the radio group container
                        const radioContainer = field.closest('.form-group');
                        if (radioContainer) {
                            let errorMessage = radioContainer.querySelector('.error-message');
                            if (!errorMessage) {
                                errorMessage = document.createElement('div');
                                errorMessage.className = 'error-message';
                                errorMessage.style.color = 'red';
                                errorMessage.style.fontSize = '0.8em';
                                errorMessage.style.marginTop = '5px';
                                radioContainer.appendChild(errorMessage);
                            }
                            errorMessage.textContent = 'Please select an option';
                        }
                    } else {
                        // Remove error message if radio is selected
                        const radioContainer = field.closest('.form-group');
                        if (radioContainer) {
                            const errorMessage = radioContainer.querySelector('.error-message');
                            if (errorMessage) {
                                errorMessage.remove();
                            }
                        }
                    }
                } else {
                    // For other input types
                    if (!field.value.trim()) {
                        isValid = false;
                        field.style.borderColor = 'red';
                        
                        let errorMessage = field.nextElementSibling;
                        if (!errorMessage || !errorMessage.classList.contains('error-message')) {
                            errorMessage = document.createElement('div');
                            errorMessage.className = 'error-message';
                            errorMessage.style.color = 'red';
                            errorMessage.style.fontSize = '0.8em';
                            errorMessage.style.marginTop = '5px';
                            field.parentNode.insertBefore(errorMessage, field.nextSibling);
                        }
                        errorMessage.textContent = 'This field is required';
                    } else {
                        field.style.borderColor = '#ddd';
                        const errorMessage = field.nextElementSibling;
                        if (errorMessage && errorMessage.classList.contains('error-message')) {
                            errorMessage.remove();
                        }
                    }
                }
            });

            if (!isValid) {
                alert('Please fill in all required fields');
                return false;
            }

            updateSummary();
            return true;
        }

        function updateForms() {
            // Update steps
            document.querySelectorAll('.step').forEach((step, index) => {
                if (index + 1 === currentStep) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });

            // Show/hide forms
            Object.values(forms).forEach(formId => {
                const form = document.getElementById(formId);
                if (form) {
                    form.classList.remove('active');
                }
            });
            
            const currentForm = document.getElementById(forms[currentStep]);
            if (currentForm) {
                currentForm.classList.add('active');
            }

            // Update navigation buttons
            const backBtn = document.querySelector('.back-btn');
            const nextBtn = document.querySelector('.next-btn');

            if (backBtn) {
                backBtn.style.display = currentStep === 1 ? 'none' : 'block';
            }
            
            if (nextBtn) {
                nextBtn.textContent = currentStep === totalSteps ? 'Submit' : 'Next';
                if (currentStep === totalSteps) {
                    nextBtn.addEventListener('click', handleSubmit);
                } else {
                    nextBtn.removeEventListener('click', handleSubmit);
                }
            }
        }

        function updateSummary() {
            // Location
            const address = document.getElementById('address')?.value || '-';
            const city = document.getElementById('city')?.value || '-';
            const province = document.getElementById('province')?.value || '-';
            const barangay = document.getElementById('barangay')?.value || '-';
            document.getElementById('summary-address').textContent = 
                `${address}, ${barangay}, ${city}, ${province}`;

            // Service Details
            const serviceType = document.getElementById('service-type')?.value || '-';
            const acType = document.getElementById('ac-type')?.value || '-';
            const brand = document.getElementById('brand')?.value || '-';
            const capacity = document.getElementById('capacity')?.value || '-';
            document.getElementById('summary-service').textContent = 
                `Service: ${serviceType}`;
            document.getElementById('summary-ac-type').textContent = 
                `AC Type: ${acType}`;
            document.getElementById('summary-brand').textContent = 
                `Brand: ${brand}`;
            document.getElementById('summary-capacity').textContent = 
                `Capacity: ${capacity} HP`;

            // Schedule
            const date = document.getElementById('preferred-date')?.value || '-';
            const time = document.getElementById('preferred-time')?.value || '-';
            document.getElementById('summary-date').textContent = 
                `Date: ${date}`;
            document.getElementById('summary-time').textContent = 
                `Time: ${time}`;

            // Contact Information
            const name = document.getElementById('full-name')?.value || '-';
            const email = document.getElementById('email')?.value || '-';
            const phone = document.getElementById('phone')?.value || '-';
            document.getElementById('summary-name').textContent = 
                `Name: ${name}`;
            document.getElementById('summary-email').textContent = 
                `Email: ${email}`;
            document.getElementById('summary-phone').textContent = 
                `Phone: ${phone}`;
        }

        function handleSubmit() {
            if (validateCurrentStep()) {
                // Collect all form data
                const formData = {
                    location: {
                        address: document.getElementById('address')?.value,
                        city: document.getElementById('city')?.value,
                        province: document.getElementById('province')?.value,
                        barangay: document.getElementById('barangay')?.value,
                        postalCode: document.getElementById('postal-code')?.value
                    },
                    service: {
                        type: document.getElementById('service-type')?.value,
                        acType: document.getElementById('ac-type')?.value,
                        brand: document.getElementById('brand')?.value,
                        capacity: document.getElementById('capacity')?.value,
                        issueDescription: document.getElementById('issue-description')?.value
                    },
                    schedule: {
                        date: document.getElementById('preferred-date')?.value,
                        time: document.getElementById('preferred-time')?.value,
                        urgency: document.getElementById('urgency')?.value
                    },
                    contact: {
                        name: document.getElementById('full-name')?.value,
                        email: document.getElementById('email')?.value,
                        phone: document.getElementById('phone')?.value,
                        alternatePhone: document.getElementById('alternate-phone')?.value,
                        specialInstructions: document.getElementById('special-instructions')?.value
                    }
                };

                // Here you would typically send the data to your server
                console.log('Form submitted:', formData);
                
                // Show success message
                alert('Booking request submitted successfully! We will contact you shortly to confirm your appointment.');
                
                // Reset form
                resetForm();
            }
        }

        function resetForm() {
            // Reset all form fields
            document.querySelectorAll('.booking-form input, .booking-form select, .booking-form textarea').forEach(field => {
                field.value = '';
            });

            // Reset to first step
            currentStep = 1;
            updateForms();
            updateSummary();
        }

        // Add scroll event listener for back to top button
        window.addEventListener('scroll', function() {
            const backToTopButton = document.querySelector('.back-to-top');
            const backButton = document.querySelector('.back-button');
            
            if (window.scrollY > 300) {
                backToTopButton.classList.add('visible');
                backButton.classList.add('visible');
            } else {
                backToTopButton.classList.remove('visible');
                backButton.classList.remove('visible');
            }
        });

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
    </script>
</body>
</html> 