<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book AC Unit - ServPro Consolidated Inc.</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .booking-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .booking-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .booking-header h1 {
            font-size: 2.5em;
            color: #333;
            margin-bottom: 10px;
        }

        .booking-header p {
            color: #666;
            font-size: 1.1em;
        }

        .booking-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            position: relative;
        }

        .booking-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: #ddd;
            z-index: 1;
        }

        .step {
            position: relative;
            z-index: 2;
            background: white;
            padding: 10px 20px;
            border-radius: 20px;
            border: 2px solid #ddd;
            text-align: center;
            flex: 1;
            margin: 0 10px;
        }

        .step.active {
            border-color: #FFD700;
            background: #FFD700;
            color: white;
        }

        .step.completed {
            border-color: #4CAF50;
            background: #4CAF50;
            color: white;
        }

        .booking-form {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: #FFD700;
            outline: none;
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #FFD700;
            color: #000;
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #333;
            border: 1px solid #ddd;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .summary-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-top: 30px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-label {
            font-weight: 500;
            color: #666;
        }

        .summary-value {
            font-weight: 600;
            color: #333;
        }

        .total-amount {
            font-size: 1.2em;
            font-weight: 700;
            color: #FFD700;
            margin-top: 20px;
            text-align: right;
        }

        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #0057B8;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: #003d82;
            transform: translateY(-3px);
        }

        .back-to-top i {
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="booking-container">
        <div class="booking-header">
            <h1>Book Your AC Unit</h1>
            <p>Complete the form below to book your selected air conditioning unit</p>
        </div>

        <div class="booking-steps">
            <div class="step active" data-step="1">1. Personal Information</div>
            <div class="step" data-step="2">2. Installation Details</div>
            <div class="step" data-step="3">3. Payment Method</div>
            <div class="step" data-step="4">4. Confirmation</div>
        </div>

        <div class="booking-form">
            <!-- Step 1: Personal Information -->
            <div class="form-section active" id="step1">
                <h2>Personal Information</h2>
                <div class="form-group">
                    <label for="fullName">Full Name</label>
                    <input type="text" id="fullName" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" required>
                </div>
                <div class="form-group">
                    <label for="address">Complete Address</label>
                    <textarea id="address" rows="3" required></textarea>
                </div>
            </div>

            <!-- Step 2: Installation Details -->
            <div class="form-section" id="step2">
                <h2>Installation Details</h2>
                <div class="form-group">
                    <label for="acType">AC Type</label>
                    <select id="acType" required>
                        <option value="">Select AC Type</option>
                        <option value="window">Window Type</option>
                        <option value="split">Split Type</option>
                        <option value="inverter">Inverter Type</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="brand">Brand</label>
                    <select id="brand" required>
                        <option value="">Select Brand</option>
                        <option value="aux">AUX</option>
                        <option value="carrier">Carrier</option>
                        <option value="daikin">Daikin</option>
                        <option value="gree">Gree</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="capacity">Capacity (HP)</label>
                    <select id="capacity" required>
                        <option value="">Select Capacity</option>
                        <option value="1.0">1.0 HP</option>
                        <option value="1.5">1.5 HP</option>
                        <option value="2.0">2.0 HP</option>
                        <option value="2.5">2.5 HP</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="installationDate">Preferred Installation Date</label>
                    <input type="date" id="installationDate" required>
                </div>
            </div>

            <!-- Step 3: Payment Method -->
            <div class="form-section" id="step3">
                <h2>Payment Method</h2>
                <div class="form-group">
                    <label>Select Payment Method</label>
                    <div class="payment-options">
                        <label class="payment-option">
                            <input type="radio" name="payment" value="cash" required>
                            <span>Cash on Delivery</span>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="payment" value="bank">
                            <span>Bank Transfer</span>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="payment" value="gcash">
                            <span>GCash</span>
                        </label>
                    </div>
                </div>
                <div class="summary-section">
                    <h3>Order Summary</h3>
                    <div class="summary-item">
                        <span class="summary-label">AC Type:</span>
                        <span class="summary-value" id="summaryAcType">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Brand:</span>
                        <span class="summary-value" id="summaryBrand">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Capacity:</span>
                        <span class="summary-value" id="summaryCapacity">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Installation Date:</span>
                        <span class="summary-value" id="summaryDate">-</span>
                    </div>
                    <div class="total-amount">
                        Total Amount: ₱<span id="totalAmount">0.00</span>
                    </div>
                </div>
            </div>

            <!-- Step 4: Confirmation -->
            <div class="form-section" id="step4">
                <h2>Booking Confirmation</h2>
                <div class="confirmation-message">
                    <i class="fas fa-check-circle" style="color: #4CAF50; font-size: 48px;"></i>
                    <h3>Thank you for your booking!</h3>
                    <p>We have received your booking request. Our team will contact you shortly to confirm your order and installation details.</p>
                    <p>Booking Reference: <strong id="bookingReference">SP-2024-XXXX</strong></p>
                </div>
            </div>

            <div class="form-actions">
                <button class="btn btn-secondary" id="prevBtn" style="display: none;">Previous</button>
                <button class="btn btn-primary" id="nextBtn">Next</button>
            </div>
        </div>
    </div>

    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const steps = document.querySelectorAll('.step');
            const sections = document.querySelectorAll('.form-section');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            let currentStep = 1;

            // Get URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const dealType = urlParams.get('deal');
            const dealPrice = urlParams.get('price');

            // Deal information mapping
            const dealInfo = {
                'summer-cooling': {
                    acType: 'split',
                    brand: 'Standard',
                    capacity: '1.5',
                    price: 10500
                },
                'home-comfort': {
                    acType: 'window',
                    brand: 'Premium',
                    capacity: '2.0',
                    price: 28500
                },
                'premium-package': {
                    acType: 'inverter',
                    brand: 'Premium',
                    capacity: '2.5',
                    price: 33800
                }
            };

            // Pre-fill form if deal is selected
            if (dealType && dealInfo[dealType]) {
                const deal = dealInfo[dealType];
                document.getElementById('acType').value = deal.acType;
                document.getElementById('brand').value = deal.brand;
                document.getElementById('capacity').value = deal.capacity;
                document.getElementById('totalAmount').textContent = deal.price.toLocaleString('en-US', {minimumFractionDigits: 2});
                
                // Update summary
                updateSummary();
            }

            function updateSteps() {
                steps.forEach((step, index) => {
                    if (index + 1 < currentStep) {
                        step.classList.add('completed');
                        step.classList.remove('active');
                    } else if (index + 1 === currentStep) {
                        step.classList.add('active');
                        step.classList.remove('completed');
                    } else {
                        step.classList.remove('active', 'completed');
                    }
                });

                sections.forEach((section, index) => {
                    section.classList.toggle('active', index + 1 === currentStep);
                });

                prevBtn.style.display = currentStep > 1 ? 'block' : 'none';
                nextBtn.textContent = currentStep === 4 ? 'Submit' : 'Next';
            }

            function updateSummary() {
                document.getElementById('summaryAcType').textContent = document.getElementById('acType').value || '-';
                document.getElementById('summaryBrand').textContent = document.getElementById('brand').value || '-';
                document.getElementById('summaryCapacity').textContent = document.getElementById('capacity').value || '-';
                document.getElementById('summaryDate').textContent = document.getElementById('installationDate').value || '-';
                
                // Update total amount if deal is selected
                if (dealType && dealInfo[dealType]) {
                    document.getElementById('totalAmount').textContent = dealInfo[dealType].price.toLocaleString('en-US', {minimumFractionDigits: 2});
                }
            }

            nextBtn.addEventListener('click', function() {
                if (currentStep < 4) {
                    currentStep++;
                    updateSteps();
                    if (currentStep === 3) {
                        updateSummary();
                    }
                } else {
                    // Generate booking reference
                    const ref = 'SP-' + new Date().getFullYear() + '-' + Math.floor(Math.random() * 10000).toString().padStart(4, '0');
                    document.getElementById('bookingReference').textContent = ref;
                    
                    // Show success message
                    alert('Booking successful! Your reference number is: ' + ref);
                }
            });

            prevBtn.addEventListener('click', function() {
                if (currentStep > 1) {
                    currentStep--;
                    updateSteps();
                }
            });

            // Add event listeners to form fields to update summary
            document.getElementById('acType').addEventListener('change', updateSummary);
            document.getElementById('brand').addEventListener('change', updateSummary);
            document.getElementById('capacity').addEventListener('change', updateSummary);
            document.getElementById('installationDate').addEventListener('change', updateSummary);

            const backToTopButton = document.getElementById('backToTop');
            let lastScrollTop = 0;

            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > 300) {
                    backToTopButton.classList.add('visible');
                } else {
                    backToTopButton.classList.remove('visible');
                }

                if (scrollTop < lastScrollTop) {
                    backToTopButton.classList.remove('visible');
                }

                lastScrollTop = scrollTop;
            });

            backToTopButton.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html> 